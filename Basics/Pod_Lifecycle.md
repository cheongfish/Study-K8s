## Pod States

### Pending
파드가 생성되었지만 아직 모든 컨테이너가 실행되지 않은 상태임 이는 다음과 같은 경우 발생할 수 있음
- 컨테이너 이미지가 다운로드 중일 때 (네트워크 속도가 느릴 경우 지연될 수 있음)
- 리소스 제약으로 인해 노드에 예약되지 못했을 때
- `kubectl describe` 명령어로 이벤트를 확인하여 이유를 분석할 수 있음

### ``Running``
파드가 노드에 바인딩되었으며, 모든 컨테이너가 생성되었고 하나 이상의 컨테이너가 실행 중이거나 초기화 또는 재시작 상태에 있음

### ``Succeeded``
파드 내의 모든 컨테이너가 성공적으로 종료되었고 다시 시작되지 않는 상태임

### ``Failed``
파드 내의 하나 이상의 컨테이너가 종료되었고, 하나 이상의 컨테이너가 실패(exit code != 0) 상태를 반환한 경우

### ``Unknown``
파드 상태를 확인할 수 없는 경우로, 네트워크 오류나 노드 장애가 원인일 수 있음

## Pod Conditions

`kubectl describe pod` 명령어를 사용하여 파드 조건을 확인할 수 있음 파드 조건에는 다음과 같은 5가지 유형이 있음:

1. **PodScheduled**: 파드가 노드에 예약되었음을 나타냄
2. **Ready**: 파드가 요청을 처리할 준비가 되었으며, 서비스에 추가될 수 있는 상태임
3. **Initialized**: 초기화 컨테이너가 성공적으로 실행된 상태임
4. **Unschedulable**: 리소스 제약으로 인해 파드가 예약되지 못한 상태임
5. **ContainersReady**: 파드 내의 모든 컨테이너가 실행 준비가 된 상태임

## Container States

### Running
컨테이너가 정상적으로 실행 중인 상태임

### Waiting
컨테이너가 실행 준비 중이며, 특정 이유로 대기 중인 상태임 이유는 다음과 같음:
- 이미지 다운로드 중
- 의존성 부족

### Terminated
컨테이너가 실행을 종료한 상태로, 종료 코드(exit code)와 종료 원인을 포함함

## Pod Lifecycle Hooks

파드의 수명 주기 동안 특정 시점에서 작업을 정의할 수 있는 훅(Hook)임:

### Init Containers
초기화 컨테이너는 메인 컨테이너 실행 전에 실행됨 메인 컨테이너와 별도로 정의되며, 다음 작업에 적합함
- 볼륨 초기화
- 권한 설정

### PostStart Hook
컨테이너 시작 시 동작을 정의함 메인 컨테이너와 동시에 실행됨

### PreStop Hook
컨테이너 중지 직전에 동작을 정의함 컨테이너 종료 전에 필요한 정리 작업을 수행함

## Readiness and Liveness Probes

### Readiness Probe
애플리케이션이 요청을 처리할 준비가 되었는지 확인함 준비 상태가 확인되지 않으면 서비스 트래픽이 파드로 라우팅되지 않음

### Liveness Probe
애플리케이션이 정상적으로 실행되고 있는지 확인함 실패 시 컨테이너를 재시작할 수 있음

### Initial Delay
준비성 및 활성 프로브 실행 전에 대기 시간을 정의하여 애플리케이션 초기화를 고려함

## Pod Lifecycle Diagram

1. 초기화 컨테이너 실행
2. PostStart Hook 실행
3. 메인 컨테이너 시작
4. Readiness 및 Liveness Probe 실행
5. PreStop Hook 실행 (중지 시)

이와 같은 흐름은 YAML 파일에서 정의할 수 있으며, 파드의 수명 주기를 세밀하게 제어할 수 있음

